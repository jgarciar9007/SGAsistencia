{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container py-4">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h4 mb-0"><i class="bi bi-person-lines-fill me-2"></i>Asistencia Individual</h2>
    <span class="badge text-bg-secondary"><i class="bi bi-filetype-pdf me-1"></i>Genera PDF</span>
  </div>

  <div class="card shadow-sm border-0">
    <div class="card-header bg-light border-bottom">
      <strong class="text-muted small text-uppercase">Parámetros del reporte</strong>
    </div>
    <div class="card-body p-4">
      <form class="row g-3 align-items-end" method="get" action="{% url 'reportes:rep_empleado_pdf' %}" target="_blank">

        <div class="col-12 col-md-5">
          <label class="form-label fw-semibold">Empleado</label>
          <select name="empleado" class="form-select" required>
            <option value="">— Seleccione un empleado —</option>
            {% for p in personas %}
            <option value="{{ p.value }}">{{ p.label }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="col-6 col-md-3">
          <label class="form-label fw-semibold">Desde</label>
          <input type="date" name="inicio" class="form-control" value="{{ inicio|date:'Y-m-d' }}">
        </div>

        <div class="col-6 col-md-3">
          <label class="form-label fw-semibold">Hasta</label>
          <input type="date" name="fin" class="form-control" value="{{ fin|date:'Y-m-d' }}">
        </div>

        <div class="col-12 col-md-1 d-flex align-items-end">
          <button type="submit" class="btn btn-danger w-100">
            <i class="bi bi-filetype-pdf me-1"></i>PDF
          </button>
        </div>

      </form>
    </div>
    <div class="card-footer bg-white text-muted small">
      <i class="bi bi-info-circle me-1"></i>
      El PDF lista cada día del período con la hora de entrada, salida y el total del día.
      Si un día solo tiene un marcaje, la salida queda en blanco y el total es 00:00.
    </div>
  </div>

</div>
{% endblock %}